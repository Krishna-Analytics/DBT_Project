version: 2

models:
  - name: tbl_datamart_sales
    description: "Final wide datamart combining order, user, product, and branch metrics with dimensions for analytics."
    columns:
      - name: order_id
        description: "Unique identifier for the order."
      - name: order_date
        description: "Date and time when the order was placed."
      - name: user_id
        description: "Unique identifier of the customer placing the order."
      - name: total_orders
        description: "Total number of orders placed by the user."
      - name: user_total_revenue
        description: "Total revenue generated by the user across all orders."
      - name: customer_lifetime_value
        description: "Total revenue generated by a customer over their lifetime."
      - name: repeat_purchase_flag
        description: "Boolean flag indicating whether the customer has placed more than one order."
      - name: churn_flag
        description: "Boolean flag indicating whether the customer has churned (deleted account)."
      - name: customer_segment
        description: "Derived user classification: New, Active, or Churned."
      - name: branch_id
        description: "Identifier of the branch where the order was placed."
      - name: branch_name
        description: "Human-readable branch name."
      - name: net_amount_total
        description: "Total monetary value of the order after adjustments (represents gross revenue per order)."
      - name: total_items
        description: "Total number of items in the order."
      - name: product_revenue
        description: "Revenue contribution from products in the order."
      - name: average_order_value
        description: "Average revenue per item in the order (net_amount_total / total_items)."
      - name: product_id
        description: "Identifier for the purchased product."
      - name: product_name
        description: "Name of the product."
      - name: product_category
        description: "Category of the product (e.g., Pizza, Salad)."
      - name: total_quantity_sold
        description: "Total quantity of the product sold across all orders."
      - name: product_total_revenue
        description: "Total revenue contribution of the product across all orders."
      - name: average_revenue_per_order
        description: "Average product revenue per order containing this product."
      - name: product_popularity_rank
        description: "Ranking of the product based on total quantity sold."